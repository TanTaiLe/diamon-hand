<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Liquid Fill SVG</title>
<style>
  #svg-container {
    width: 300px;
    height: 300px;
    border: 2px solid #ccc;
    position: relative;
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  #upload-input {
    position: absolute;
    width: 100%;
    height: 100%;
    opacity: 0;
    cursor: pointer;
  }
</style>
</head>
<body>

<div id="svg-container">
  <input type="file" id="upload-input" accept="image/*">
  <svg id="liquid-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" width="100%" height="100%">
    <defs>
      <linearGradient id="grad" x1="0%" y1="0%" x2="100%" y2="0%">
        <stop offset="0%" style="stop-color:#00bcd4;stop-opacity:1" />
        <stop offset="100%" style="stop-color:#fff;stop-opacity:1" />
      </linearGradient>
      <clipPath id="diamond-mask">
        <polygon points="50,5 95,50 50,95 5,50" />
      </clipPath>
    </defs>
    <rect id="liquid-rect" width="100%" height="0" fill="url(#grad)" clip-path="url(#diamond-mask)">
      <animate attributeName="height" from="0" to="100" dur="1s" fill="freeze" />
    </rect>
  </svg>
</div>

<script>
  document.getElementById('upload-input').addEventListener('change', function(event) {
    const file = event.target.files[0];
    const reader = new FileReader();
    reader.onload = function(e) {
      const img = new Image();
      img.onload = function() {
        const svgWidth = document.getElementById('svg-container').clientWidth;
        const svgHeight = document.getElementById('svg-container').clientHeight;
        const canvas = document.createElement('canvas');
        canvas.width = svgWidth;
        canvas.height = svgHeight;
        const ctx = canvas.getContext('2d');
        ctx.drawImage(img, 0, 0, svgWidth, svgHeight);
        const imgData = canvas.toDataURL('image/png');
        document.getElementById('liquid-svg').style.backgroundImage = `url(${imgData})`;
      };
      img.src = e.target.result;
    };
    reader.readAsDataURL(file);
  });
</script>

</body>
</html>
